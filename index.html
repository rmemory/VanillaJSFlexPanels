<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vanilla JS Flex Panels ðŸ’ª &#128169;</title>
	<link href='https://fonts.googleapis.com/css?family=Amatic+SC' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="style.css" type='text/css'>
</head>
<body>
	<div class="panels">
		<div class="panel panel1">
			<p>Hey</p>
			<p>Let's</p>
			<p>Dance</p>
		</div>
		<div class="panel panel2">
			<p>Give</p>
			<p>Take</p>
			<p>Receive</p>
		</div>
		<div class="panel panel3">
			<p>Experience</p>
			<p>It</p>
			<p>Today</p>
		</div>
		<div class="panel panel4">
			<p>Give</p>
			<p>All</p>
			<p>You can</p>
		</div>
		<div class="panel panel5">
			<p>Life</p>
			<p>In</p>
			<p>Motion</p>
		</div>
  </div>

	<!-- The Java script!! -->
	<script>
		/* Get all panel classes as a Node List */
	  const panels = document.querySelectorAll('.panel');

		/* 
		 * function: toggleOpen
		 */
	  function toggleOpen() {
		  this.classList.toggle('open')
	  }

		/* 
		 * function: toggleOpenActive
		 * 
		 * We could look for any number of transitionend events to look for, 
		 * but just chose the flex-grow, which happens to be different on
		 * Safari.
		 */
	  function toggleOpenActive(e) {
			/* Safari transitionend event.propertyName === flex */
	  	/* Chrome + FF transitionend event.propertyName === flex-grow */
			/* Hence the usage of 'includes' and not equality for 'flex-grow'. */
		  if (e.propertyName.includes('flex')) {
			  this.classList.toggle('open-active');
		  }
	  }

		/* Makes the panels larger. This all happens as the user clicks on panel */
	  panels.forEach(panel => panel.addEventListener('click', toggleOpen));

		/* Brings the text in from top and bottom after all of the transitions 
			 associated with the click have completed */
	  panels.forEach(panel => panel.addEventListener('transitionend', toggleOpenActive));

  </script>

</body>
</html>